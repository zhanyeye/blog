---
title: 19-10-04 python简明教程
mathjax: true
date: 2019-10-04 09:14:43
tags:
categories:
---



##### 变量和数据类型

###### python 关键字

下列的标识符是 Python3 的关键字，并且不能用于通常的标识符。关键字必须完全按照下面拼写：

```
False               def                 if                  raise
None                del                 import              return
True                elif                in                  try
and                 else                is                  while
as                  except              lambda              with
assert              finally             nonlocal            yield
break               for                 not                 
class               from                or                  
continue            global              pass
```

<!--more-->

###### 变量的定义与赋值

在 Python 中 我们不需要为变量指定数据类型。所以你可以直接写出 `abc = 1` ，这样变量 `abc` 就是整数类型。如果你写出 `abc = 1.0` ，那么变量 `abc` 就是浮点类型。

Python 也能操作字符串，它们用单引号或双引号括起来，就像下面这样。

```
>>> 'ShiYanLou'
'ShiYanLou' 
>>> 'ShiYanLou\'s best' 
"ShiYanLou's best" 
>>> "Hello World!" 
'Hello World!'
```

###### input() 函数

通常情况下，Python 的代码中是不需要从键盘读取输入的。不过我们还是可以在 Python 中使用函数 `input()` 来做到这一点，`input()` 有一个用于打印在屏幕上的可选字符串参数，返回用户输入的字符串

```python
#!/usr/bin/env python3
number = int(input("Enter an integer: "))
if number <= 100:
    print("Your number is less than or equal to 100")
else:
    print("Your number is greater than 100")
```

###### 字符串的格式化

```python
>>>"{} {}".format("hello", "world")    # 不设置指定位置，按默认顺序
'hello world'
 
>>> "{0} {1}".format("hello", "world")  # 设置指定位置
'hello world'
 
>>> "{1} {0} {1}".format("hello", "world")  # 设置指定位置
'world hello world'
```

| 3.1415926  |                            {:.2f}                            | 3.14                                          | 保留小数点后两位             |
| ---------- | :----------------------------------------------------------: | --------------------------------------------- | ---------------------------- |
| 3.1415926  |                           {:+.2f}                            | +3.14                                         | 带符号保留小数点后两位       |
| -1         |                           {:+.2f}                            | -1.00                                         | 带符号保留小数点后两位       |
| 2.71828    |                            {:.0f}                            | 3                                             | 不带小数                     |
| 5          |                           {:0>2d}                            | 05                                            | 数字补零 (填充左边, 宽度为2) |
| 5          |                           {:x<4d}                            | 5xxx                                          | 数字补x (填充右边, 宽度为4)  |
| 10         |                           {:x<4d}                            | 10xx                                          | 数字补x (填充右边, 宽度为4)  |
| 1000000    |                             {:,}                             | 1,000,000                                     | 以逗号分隔的数字格式         |
| 0.25       |                            {:.2%}                            | 25.00%                                        | 百分比格式                   |
| 1000000000 |                            {:.2e}                            | 1.00e+09                                      | 指数记法                     |
| 13         |                           {:>10d}                            | 13                                            | 右对齐 (默认, 宽度为10)      |
| 13         |                           {:<10d}                            | 13                                            | 左对齐 (宽度为10)            |
| 13         |                           {:^10d}                            | 13                                            | 中间对齐 (宽度为10)          |
| 11         | `'{:b}'.format(11)` <br/>` '{:d}'.format(11)`<br/>` '{:o}'.format(11)`<br/>` '{:x}'.format(11)`<br/>` '{:#x}'.format(11)`<br/>` '{:#X}'.format(11)` | 1011<br/> 11<br/> 13<br/> b<br/> 0xb<br/> 0XB | 进制                         |

**^**, **<**, **>** 分别是居中、左对齐、右对齐，后面带宽度， **:** 号后面带填充的字符，只能是一个字符，不指定则默认是用空格填充。

**+** 表示在正数前显示 **+**，负数前显示 **-**；  （空格）表示在正数前加空格

b、d、o、x 分别是二进制、十进制、八进制、十六进制。

此外我们可以使用大括号 **{}** 来转义大括号，如下实例：

`print ("{} 对应的位置是 {{0}}".format("runoob"))`

###### 单行定义多变量并赋值

你甚至可以在一行内将多个值赋值给多个变量(元组封装和拆封)。

> 要明白这是怎么工作的，你需要学习元组（*tuple*）这个数据类型。我们是用逗号创建元组。在赋值语句的右边我们创建了一个元组，我们称这为元组封装（*tuple packing*），赋值语句的左边我们则做的是元组拆封 （*tuple unpacking*）。

```python
>>> a , b = 45, 54
>>> a
45
>>> b
54
```

这个技巧用来交换两个数的值非常方便。

```
>>> a, b = b , a
>>> a
54
>>> b
45
```



##### 运算符和表达式

`/ :除法`

`// : 整除`

###### 关系、逻辑运算

对于逻辑 与，或，非，我们使用 `and`，`or`，`not` 这几个关键字

逻辑运算符的优先级又低于关系运算符，在它们之中，`not` 具有最高的优先级，`or` 优先级最低，所以 `A and not B or C` 等于 `(A and (notB)) or C`

###### 表达式

简写运算符:

*x op= expression* 为简写运算的语法形式。其等价于 *x = x op expression* 

```
>>> a = 12
>>> a += 13
>>> a
25
```

###### 类型转换

我们可以手动的执行类型转换。

| 类型转换函数    | 转换路径         |
| --------------- | ---------------- |
| `float(string)` | 字符串 -> 浮点值 |
| `int(string)`   | 字符串 -> 整数值 |
| `str(integer)`  | 整数值 -> 字符串 |
| `str(float)`    | 浮点值 -> 字符串 |







##### 列表

列表的数据结构。它可以写作中括号之间的一列逗号分隔的值。列表的元素不必是同一类型：

```
>>> a = [ 1, 342, 223, 'India', 'Fedora']
>>> a
[1, 342, 223, 'India', 'Fedora']
```

负数的索引，那将会从列表的末尾`-1`开始计数
正数的索引，那将会从列表的开头`0`开始计数

```
 +---+-----+-----+---------+----------+
 | 1 | 342 | 223 | 'India' | 'Fedora' |
 +---+-----+-----+---------+----------+
   0    1     2       3        4          5
  -5   -4    -3      -2       -1
```

试图使用太大的索引会导致错误：

```
>>> a[32]
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
IndexError: list index out of range
```

###### 切片

甚至可以把它切成不同的部分，这个操作称为切片，例子在下面给出：

```
>>> a = [ 1, 342, 223, 'India', 'Fedora']
>>> a[0:-1]
[1, 342, 223, 'India']
>>> a[2:-2]
[223]
```

切片并不会改变正在操作的列表，切片操作返回其子列表，这意味着下面的切片操作返回列表一个新的（栈）拷贝副本

切片的索引有非常有用的默认值；**省略的第一个索引默认为零，省略的第二个索引默认为切片的字符串的大小**

**Python 中有关下标的集合都满足左闭右开原则，切片中也是如此，也就是说集合左边界值能取到，右边界值不能取到。**

Python 能够优雅地处理那些没有意义的切片索引：一个过大的索引值(即大于列表实际长度)将被列表实际长度所代替，当上边界比下边界大时(即切片左值大于右值)就返回空列表:

```
>>> a[2:32]
[223, 'India', 'Fedora']
>>> a[32:]
[]
```

###### 切片步长

切片操作还可以设置步长，就像下面这样：

```
>>> a[1::2]
[342, 'India']
```

它的意思是，从切片索引 1 到列表末尾，每隔两个元素取值。

###### 列表拼接

列表也支持连接这样的操作，它返回一个新的列表：

```
>>> a + [36, 49, 64, 81, 100]
[1, 342, 223, 'India', 'Fedora', 36, 49, 64, 81, 100]
```

###### 列表赋值

也可以对切片赋值，此操作可以改变列表的尺寸，或清空它：

```
>>> letters = ['a', 'b', 'c', 'd', 'e', 'f', 'g']
>>> letters
['a', 'b', 'c', 'd', 'e', 'f', 'g']
>>> # 替换某些值
>>> letters[2:5] = ['C', 'D', 'E']
>>> letters
['a', 'b', 'C', 'D', 'E', 'f', 'g']
>>> # 现在移除他们
>>> letters[2:5] = []
>>> letters
['a', 'b', 'f', 'g']
>>> # 通过替换所有元素为空列表来清空这个列表
>>> letters[:] = []
>>> letters
[]
```

> 细心的同学可能发问了，前面不是说过切片操作不改变列表么？严格来说，这里并不算真正的切片操作，只是上面代码中赋值运算符左边的这种操作与切片操作形式一样而已。

![img](data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgdmlld0JveD0iMCAwIDIwIDIwIj4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPHBhdGggZmlsbD0iI0ZGRiIgc3Ryb2tlPSIjQzZDNkM2IiBzdHJva2Utd2lkdGg9IjEuMyIgZD0iTTEwIDE3LjgzOWw4LjA2NC0xLjQ5M2EuMzUuMzUgMCAwIDAgLjI4Ni0uMzQ0di0xMy4zYS4zNS4zNSAwIDAgMC0uNDE0LS4zNDRsLTcuOCAxLjQ0NGMtLjEzNi4wMTctLjEzNi4wMTctLjI3MyAwbC03LjgtMS40NDRhLjM1LjM1IDAgMCAwLS40MTMuMzQ0djEzLjNjMCAuMTY4LjEyLjMxMy4yODYuMzQ0TDEwIDE3LjgzOXoiLz4KICAgICAgICA8cGF0aCBmaWxsPSIjQzZDNkM2IiBkPSJNOS41IDEzLjVoMXYxaC0xdi0xem0xLjcxNy00LjY5NGMwLS43MDItLjQyOC0xLjE5Mi0xLjI3NS0xLjE5Mi0uNjEyIDAtMS4xNTkuMjkxLTEuNjc4Ljg2NUw3LjUgNy43NjRDOC4xNzEgNy4wMTcgOC45OTQgNi41IDEwLjA5NCA2LjVjMS40MzUgMCAyLjQwNi44MDggMi40MDYgMi4xOTggMCAxLjc3OC0yLjI5IDIuMDgxLTIuMDUgMy44MDJIOS4yN2MtLjMxMS0xLjkyOCAxLjk0Ny0yLjQxNyAxLjk0Ny0zLjY5NHoiLz4KICAgIDwvZz4KPC9zdmc+Cg==)

![img](https://static.shiyanlou.com/frontend/dist/img/cc491c4.svg)

![img](data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgdmlld0JveD0iMCAwIDIwIDIwIj4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgc3Ryb2tlPSIjQzZDNkM2Ij4KICAgICAgICA8cGF0aCBmaWxsPSIjQzZDNkM2IiBzdHJva2Utd2lkdGg9Ii43IiBkPSJNMTMuOTIyIDQuMjN2Ni4xNDhhLjU1LjU1IDAgMCAxLS41NS41NUg4LjcwNHY1LjQ3OGEuNTUuNTUgMCAwIDEtLjU1LjU1SDMuNWEuMTUuMTUgMCAwIDAtLjE1LjE1di40MzRjMCAuMDgzLjA2Ny4xNS4xNS4xNWg1LjgwMnYtNS40NzhhLjU1LjU1IDAgMCAxIC41NS0uNTVoNC42NjdWNS41MTRhLjU1LjU1IDAgMCAxIC41NS0uNTVIMTkuNWEuMTUuMTUgMCAwIDAgLjE1LS4xNVY0LjM4YS4xNS4xNSAwIDAgMC0uMTUtLjE1aC01LjU3OHoiLz4KICAgICAgICA8cGF0aCBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2Utd2lkdGg9IjEuMiIgZD0iTTYuMzUgNS4xM0w0Ljc0OCA0LjA0NGMtLjE2Ni0uMTQ4LS4xNjYtLjE0OC0uMjQxLS4zMjZhLjYxMy42MTMgMCAwIDEgLjMzMy0uNzQ1bC4xMDktLjAzNiA0LjYzNS0xLjA5MmEuNzIuNzIgMCAwIDEgLjkyNi42MjRsLjU1MyA0LjYwMWMuMDAyLjE1Ny4wMDIuMTU3LS4wNS4zMTFhLjYxLjYxIDAgMCAxLS44ODguMjY4bC0xLjM5Mi0uODljLS41MDkuODgtMS41OTUgMi4yMjgtMi42MzIgMy4wNi0xLjM5IDEuMTE3LTIuODk4IDEuODc1LTQuNTIyIDIuMjdsLS4zOS0xLjEyOWMxLjc5OS0uODE2IDMuMDUzLTEuNzI0IDMuNzctMi43MDdBOC4xMDYgOC4xMDYgMCAwIDAgNi4zNSA1LjEyOXoiLz4KICAgIDwvZz4KPC9zdmc+Cg==)



三、列表



在继续学习循环之前，我们先学习一个叫做列表的数据结构。它可以写作中括号之间的一列逗号分隔的值。列表的元素不必是同一类型：

```
>>> a = [ 1, 342, 223, 'India', 'Fedora']
>>> a
[1, 342, 223, 'India', 'Fedora']
```

你可以将上面的列表想象为一堆有序的盒子，盒子包含有上面提到的值，每个盒子都有自己的编号（红色的数字），编号从零开始，你可以通过编号访问每一个盒子里面的值。对于列表，这里的编号称为索引。

![6-3-1](http://labfile.oss.aliyuncs.com/courses/596/Welcome%20to%20Python%20for%20you%20and%20me%20-%20%E5%BE%AA%E7%8E%AF_img_1.png)

我们像下面这样通过索引来访问列表中的每一个值：

```
>>> a[0]
1
>>> a[4]
'Fedora'
```

如果我们使用负数的索引，那将会从列表的末尾开始计数，像下面这样：

```
>>> a[-1]
'Fedora'
```

你甚至可以把它切成不同的部分，这个操作称为切片，例子在下面给出：

```
>>> a[0:-1]
[1, 342, 223, 'India']
>>> a[2:-2]
[223]
```

切片并不会改变正在操作的列表，切片操作返回其子列表，这意味着下面的切片操作返回列表一个新的（栈）拷贝副本：

```
>>> a[:]
[1, 342, 223, 'India', 'Fedora']
```

切片的索引有非常有用的默认值；省略的第一个索引默认为零，省略的第二个索引默认为切片的字符串的大小：

```
>>> a[:-2]
[1, 342, 223]
>>> a[-2:]
['India', 'Fedora']
```

有个办法可以很容易地记住切片的工作方式：切片时的索引是在两个元素之间 。左边第一个元素的索引为 0，而长度为 n 的列表其最后一个元素的右界索引为 n。例如：

```
 +---+-----+-----+---------+----------+
 | 1 | 342 | 223 | 'India' | 'Fedora' |
 +---+-----+-----+---------+----------+
   0    1     2       3        4          5
  -5   -4    -3      -2       -1
```

上面的第一行数字给出列表中的索引点 0...5。第二行给出相应的负索引。切片是从 i 到 j 两个数值表示的边界之间的所有元素。

对于非负索引，如果上下都在边界内，切片长度就是两个索引之差。例如 `a[2:4]` 是 2。

Python 中有关下标的集合都满足左闭右开原则，切片中也是如此，也就是说集合左边界值能取到，右边界值不能取到。

对上面的列表， `a[0:5]` 用数学表达式可以写为 `[0,5)` ，其索引取值为 `0,1,2,3,4`，所以能将`a`中所有值获取到。 你也可以用`a[:5]`, 效果是一样的。

而`a[-5:-1]`，因为左闭右开原则，其取值为 `-5,-4,-3,-2` 是不包含 `-1` 的。

为了取到最后一个值，你可以使用 `a[-5:]` ，它代表了取该列表最后5个值。

试图使用太大的索引会导致错误：

```
>>> a[32]
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
IndexError: list index out of range
>>> a[-10]
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
IndexError: list index out of range
```

Python 能够优雅地处理那些没有意义的切片索引：一个过大的索引值(即大于列表实际长度)将被列表实际长度所代替，当上边界比下边界大时(即切片左值大于右值)就返回空列表:

```
>>> a[2:32]
[223, 'India', 'Fedora']
>>> a[32:]
[]
```

切片操作还可以设置步长，就像下面这样：

```
>>> a[1::2]
[342, 'India']
```

它的意思是，从切片索引 1 到列表末尾，每隔两个元素取值。

列表也支持连接这样的操作，它返回一个新的列表：

```
>>> a + [36, 49, 64, 81, 100]
[1, 342, 223, 'India', 'Fedora', 36, 49, 64, 81, 100]
```

列表允许修改元素：

```
>>> cubes = [1, 8, 27, 65, 125]
>>> cubes[3] = 64
>>> cubes
[1, 8, 27, 64, 125]
```

也可以对切片赋值，此操作可以改变列表的尺寸，或清空它：

```
>>> letters = ['a', 'b', 'c', 'd', 'e', 'f', 'g']
>>> letters
['a', 'b', 'c', 'd', 'e', 'f', 'g']
>>> # 替换某些值
>>> letters[2:5] = ['C', 'D', 'E']
>>> letters
['a', 'b', 'C', 'D', 'E', 'f', 'g']
>>> # 现在移除他们
>>> letters[2:5] = []
>>> letters
['a', 'b', 'f', 'g']
>>> # 通过替换所有元素为空列表来清空这个列表
>>> letters[:] = []
>>> letters
[]
```

细心的同学可能发问了，前面不是说过切片操作不改变列表么？严格来说，这里并不算真正的切片操作，只是上面代码中赋值运算符左边的这种操作与切片操作形式一样而已。

###### 元素包含

要检查某个值是否存在于列表中，你可以这样做：

```
>>> a = ['ShiYanLou', 'is', 'cool']
>>> 'cool' in a
True
>>> 'Linux' in a
False
```



##### 控制流和循环

```
if expression:
	do this
else:
	do that
--------------------------
if expression1:
	do this
elif expression2:
	do ...
else:
	do that
```



`while` 语句的语法如下：

```
while condition:
    statement1
    statement2
```

关键字 `break`，它可以终止最里面的循环



for 循环遍历任何序列（比如列表和字符串）中的每一个元素。下面给出示例：

```
>>> a = ['ShiYanLou', 'is', 'powerful']
>>> for x in a:
...     print(x)
...
ShiYanLou
is
powerful
```

我们也能这样做：

```
>>> a = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
>>> for x in a[::2]:
...     print(x)
1
3
5
7
9
```

###### range() 函数

如果你需要一个数值序列，内置函数 [range()](https://docs.python.org/3/library/stdtypes.html#range) 会很方便，它生成一个等差数列（并不是列表）：